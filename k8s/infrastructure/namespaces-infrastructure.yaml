---
apiVersion: v1
kind: Namespace
metadata:
  name: kafka
  labels:
    name: kafka
    neural-hive.io/layer: messaging
    neural-hive.io/component: event-streaming
    neural-hive.io/phase: infrastructure
    pod-security.kubernetes.io/enforce: baseline
    pod-security.kubernetes.io/audit: restricted
    pod-security.kubernetes.io/warn: restricted
  annotations:
    neural-hive.io/description: "Apache Kafka cluster via Strimzi operator"
    neural-hive.io/owner: "team-platform"

---
apiVersion: v1
kind: Namespace
metadata:
  name: redis-cluster
  labels:
    name: redis-cluster
    neural-hive.io/layer: memory
    neural-hive.io/component: cache
    neural-hive.io/phase: infrastructure
    pod-security.kubernetes.io/enforce: baseline
    pod-security.kubernetes.io/audit: restricted
    pod-security.kubernetes.io/warn: restricted
  annotations:
    neural-hive.io/description: "Redis cluster for caching and pheromones"
    neural-hive.io/owner: "team-platform"

---
apiVersion: v1
kind: Namespace
metadata:
  name: mongodb-cluster
  labels:
    name: mongodb-cluster
    neural-hive.io/layer: memory
    neural-hive.io/component: operational-context
    neural-hive.io/phase: infrastructure
    pod-security.kubernetes.io/enforce: baseline
    pod-security.kubernetes.io/audit: restricted
    pod-security.kubernetes.io/warn: restricted
  annotations:
    neural-hive.io/description: "MongoDB ReplicaSet for cognitive ledger"
    neural-hive.io/owner: "team-platform"
    neural-hive.io/data-classification: "internal"

---
apiVersion: v1
kind: Namespace
metadata:
  name: neo4j-cluster
  labels:
    name: neo4j-cluster
    neural-hive.io/layer: knowledge
    neural-hive.io/component: semantic-graph
    neural-hive.io/phase: infrastructure
    pod-security.kubernetes.io/enforce: baseline
    pod-security.kubernetes.io/audit: restricted
    pod-security.kubernetes.io/warn: restricted
  annotations:
    neural-hive.io/description: "Neo4j graph database for knowledge graph"
    neural-hive.io/owner: "team-platform"
    neural-hive.io/data-classification: "internal"

---
apiVersion: v1
kind: Namespace
metadata:
  name: clickhouse-cluster
  labels:
    name: clickhouse-cluster
    neural-hive.io/layer: memory
    neural-hive.io/component: historical-analytics
    neural-hive.io/phase: infrastructure
    pod-security.kubernetes.io/enforce: baseline
    pod-security.kubernetes.io/audit: restricted
    pod-security.kubernetes.io/warn: restricted
  annotations:
    neural-hive.io/description: "ClickHouse cluster for analytics"
    neural-hive.io/owner: "team-platform"
    neural-hive.io/data-classification: "internal"

---
# Namespaces de operators
apiVersion: v1
kind: Namespace
metadata:
  name: redis-operator
  labels:
    name: redis-operator
    neural-hive.io/component: operator
    neural-hive.io/phase: infrastructure

---
apiVersion: v1
kind: Namespace
metadata:
  name: mongodb-operator
  labels:
    name: mongodb-operator
    neural-hive.io/component: operator
    neural-hive.io/phase: infrastructure

---
apiVersion: v1
kind: Namespace
metadata:
  name: clickhouse-operator
  labels:
    name: clickhouse-operator
    neural-hive.io/component: operator
    neural-hive.io/phase: infrastructure

---
# Instruções:
# 1. `kubectl apply -f k8s/infrastructure/namespaces-infrastructure.yaml`.
# 2. Valide com `kubectl get ns -l neural-hive.io/phase=infrastructure`.
# 3. Garanta que os labels `pod-security.kubernetes.io/*` estejam aplicados antes de instalar os operators.
# Notas:
# - Este manifesto complementa `k8s/bootstrap/namespaces.yaml` e mantém isolamento por componente.
# - Ajuste owners/annotations conforme governança da organização, se necessário.
