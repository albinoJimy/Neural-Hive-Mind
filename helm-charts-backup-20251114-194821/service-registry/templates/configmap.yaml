apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "service-registry.fullname" . }}-config
  labels:
    {{- include "service-registry.labels" . | nindent 4 }}
data:
  SERVICE_NAME: {{ .Values.config.serviceName | quote }}
  SERVICE_VERSION: {{ .Values.config.serviceVersion | quote }}
  ENVIRONMENT: {{ .Values.config.environment | quote }}
  LOG_LEVEL: {{ .Values.config.logLevel | quote }}
  ETCD_ENDPOINTS: {{ join "," .Values.config.etcd.endpoints | quote }}
  ETCD_PREFIX: {{ .Values.config.etcd.prefix | quote }}
  ETCD_TIMEOUT_SECONDS: {{ .Values.config.etcd.timeoutSeconds | quote }}
  HEALTH_CHECK_INTERVAL_SECONDS: {{ .Values.config.healthCheck.intervalSeconds | quote }}
  HEARTBEAT_TIMEOUT_SECONDS: {{ .Values.config.heartbeat.timeoutSeconds | quote }}
  REDIS_CLUSTER_NODES: {{ join "," .Values.config.redis.clusterNodes | quote }}
  OTEL_EXPORTER_ENDPOINT: {{ .Values.config.otel.exporterEndpoint | quote }}
