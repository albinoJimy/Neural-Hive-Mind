# Kubernetes production values for specialist-technical
# Neural Hive-Mind deployment

replicaCount: 1

image:
  repository: neural-hive-mind/specialist-technical
  tag: 1.0.10  # Fixed protobuf version incompatibility
  pullPolicy: IfNotPresent

resources:
  requests:
    cpu: 250m
    memory: 512Mi
  limits:
    cpu: 1000m
    memory: 2Gi

autoscaling:
  enabled: false

podDisruptionBudget:
  enabled: false

serviceMonitor:
  enabled: false

networkPolicy:
  enabled: false

config:
  environment: production
  logLevel: DEBUG
  enableJwtAuth: false

  mlflow:
    trackingUri: http://mlflow.mlflow.svc.cluster.local:5000
    experimentName: specialist-technical
    modelName: technical
    modelStage: Production

  mongodb:
    uri: mongodb://mongodb.mongodb-cluster.svc.cluster.local:27017/neural_hive
    database: neural_hive
    opinionsCollection: specialist_opinions

  neo4j:
    uri: bolt://neo4j.neo4j-cluster.svc.cluster.local:7687
    user: neo4j
    database: neo4j

  redis:
    clusterNodes: neural-hive-cache.redis-cluster.svc.cluster.local:6379
    sslEnabled: false
    cacheTtl: 300

  otel:
    endpoint: http://opentelemetry-collector.observability.svc.cluster.local:4317

  grpc:
    port: 50051
    maxWorkers: 10
    maxMessageLength: 4194304

  http:
    port: 8000

  prometheus:
    port: 8080

  thresholds:
    minConfidenceScore: 0.8
    highRiskThreshold: 0.7

  timeouts:
    evaluationMs: 5000
    modelInferenceMs: 3000

  features:
    enableExplainability: true
    enableCaching: true
    enableModelMonitoring: false

  technical:
    performanceAnalysisEnabled: true
    securityCheckEnabled: true
    scalabilityAssessmentEnabled: true

serviceAccount:
  create: false
  name: default

secrets:
  mongodbUri: mongodb://root:local_dev_password@mongodb.mongodb-cluster.svc.cluster.local:27017/neural_hive?authSource=admin
  neo4jPassword: neo4j
  redisPassword: ""
  jwtSecretKey: "neural-hive-dev-secret-key-change-in-production-12345678"

podSecurityContext:
  runAsNonRoot: true
  runAsUser: 1000
  fsGroup: 1000

livenessProbe:
  httpGet:
    path: /health
    port: 8000
  initialDelaySeconds: 60
  periodSeconds: 30
  timeoutSeconds: 10
  failureThreshold: 3

readinessProbe:
  httpGet:
    path: /health
    port: 8000
  initialDelaySeconds: 15
  periodSeconds: 10
  timeoutSeconds: 5
  failureThreshold: 3
