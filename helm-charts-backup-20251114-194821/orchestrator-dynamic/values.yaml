image:
  repository: <registry>/orchestrator-dynamic
  tag: "1.0.0"
  pullPolicy: IfNotPresent

imagePullSecrets: []

replicaCount: 2

autoscaling:
  enabled: true
  minReplicas: 2
  maxReplicas: 10
  targetCPUUtilizationPercentage: 70
  targetMemoryUtilizationPercentage: 80

resources:
  requests:
    cpu: 500m
    memory: 1Gi
  limits:
    cpu: 2000m
    memory: 4Gi

service:
  type: ClusterIP
  port: 8000
  targetPort: 8000
  annotations: {}

config:
  serviceName: orchestrator-dynamic
  serviceVersion: "1.0.0"
  environment: production
  logLevel: INFO

  temporal:
    host: temporal-frontend.temporal.svc.cluster.local
    port: 7233
    namespace: neural-hive-mind
    taskQueue: orchestration-tasks
    tlsEnabled: false

  kafka:
    bootstrapServers: kafka-bootstrap.kafka.svc.cluster.local:9092
    consensusTopic: plans.consensus
    ticketsTopic: execution.tickets
    consumerGroupId: orchestrator-dynamic
    securityProtocol: PLAINTEXT

  postgres:
    host: postgres-temporal-headless.temporal-postgres.svc.cluster.local
    port: 5432
    database: temporal
    sslMode: require

  mongodb:
    uri: mongodb://mongodb-0.mongodb-headless.mongodb-cluster.svc.cluster.local:27017,mongodb-1.mongodb-headless.mongodb-cluster.svc.cluster.local:27017,mongodb-2.mongodb-headless.mongodb-cluster.svc.cluster.local:27017/?replicaSet=rs0
    database: neural_hive_orchestration

  redis:
    clusterNodes: redis-cluster.redis-cluster.svc.cluster.local:6379
    sslEnabled: false

  scheduler:
    enableIntelligentScheduler: true
    maxParallelTickets: 100

  sla:
    defaultTimeoutMs: 3600000
    checkIntervalSeconds: 30
    alertThresholdPercent: 0.8

  retry:
    maxAttempts: 3
    initialIntervalMs: 1000
    backoffCoefficient: 2.0
    maxIntervalMs: 60000

  observability:
    otelExporterEndpoint: http://otel-collector.observability.svc.cluster.local:4317
    prometheusPort: 9090

secrets:
  postgresUser: temporal
  postgresPassword: "<sealed-secret-ref>"
  mongodbUri: "<sealed-secret-ref>"
  redisPassword: "<sealed-secret-ref>"
  kafkaSaslUsername: ""
  kafkaSaslPassword: ""

istio:
  enabled: true
  mtls:
    mode: STRICT

serviceMonitor:
  enabled: false
  interval: 30s
  scrapeTimeout: 10s

podDisruptionBudget:
  enabled: true
  minAvailable: 1

networkPolicy:
  enabled: true
  ingress:
    - from:
      - namespaceSelector:
          matchLabels:
            name: neural-hive-mind
  egress:
    - to:
      - namespaceSelector:
          matchLabels:
            name: kafka
    - to:
      - namespaceSelector:
          matchLabels:
            name: temporal
    - to:
      - namespaceSelector:
          matchLabels:
            name: mongodb-cluster

podAnnotations:
  prometheus.io/scrape: "true"
  prometheus.io/port: "9090"
  prometheus.io/path: "/metrics"

podLabels:
  app.kubernetes.io/name: orchestrator-dynamic
  app.kubernetes.io/component: orchestration
  neural-hive.io/layer: orchestration

affinity:
  podAntiAffinity:
    preferredDuringSchedulingIgnoredDuringExecution:
    - weight: 100
      podAffinityTerm:
        labelSelector:
          matchExpressions:
          - key: app.kubernetes.io/name
            operator: In
            values:
            - orchestrator-dynamic
        topologyKey: kubernetes.io/hostname

tolerations: []
nodeSelector: {}

serviceAccount:
  create: true
  name: ""
