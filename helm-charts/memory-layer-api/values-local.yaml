# Local development values for memory-layer-api
# Override production values for local Kubernetes clusters

# Reduced replica count for local development
replicaCount: 1

image:
  pullPolicy: IfNotPresent

# Reduced resources for local development (~50% of production)
resources:
  requests:
    cpu: 250m
    memory: 512Mi
  limits:
    cpu: 1000m
    memory: 1Gi

# Disable autoscaling for local development
autoscaling:
  enabled: false

# Disable pod disruption budget for local development
podDisruptionBudget:
  enabled: false

# Disable service monitor for local development
serviceMonitor:
  enabled: false

# Disable network policies for local development
networkPolicy:
  enabled: false

# Disable Istio for local development
istio:
  enabled: false

# Application configuration
config:
  environment: dev
  logLevel: DEBUG
  debug: true

  # Redis configuration - no SSL for local
  redis:
    clusterNodes: neural-hive-cache.redis-cluster.svc.cluster.local:6379
    sslEnabled: false
    defaultTtl: 300

  # MongoDB configuration - no authentication for local
  mongodb:
    uri: mongodb://mongodb.mongodb-cluster.svc.cluster.local:27017/memory?authSource=admin
    database: memory
    retentionDays: 7

  # Neo4j configuration - no SSL for local
  neo4j:
    uri: bolt://neo4j.neo4j.svc.cluster.local:7687
    database: neo4j
    enableSsl: false
    queryTimeout: 30

  # ClickHouse configuration
  clickhouse:
    host: clickhouse.default.svc.cluster.local
    port: 9000
    database: memory
    retentionMonths: 3

  # OpenTelemetry configuration - disabled for local
  openTelemetry:
    enabled: false
    endpoint: http://opentelemetry-collector.observability.svc.cluster.local:4317

  # Memory Layer routing configuration - reduced for local
  routing:
    hotDataThresholdSeconds: 300
    warmDataThresholdDays: 7

  # Data quality configuration - relaxed for local
  quality:
    checkEnabled: true
    completenessThreshold: 0.8

  # Feature flags - simplified for local
  features:
    enableCache: true
    enableLineageTracking: false
    enableQualityMonitoring: false

# Use default service account for local
serviceAccount:
  create: false
  name: default

# Simplified secrets for local development
secrets:
  redisPassword: ""
  neo4jPassword: neo4j
  clickhousePassword: ""
  mongodbPassword: ""

# Relaxed probes for local development
livenessProbe:
  httpGet:
    path: /health
    port: 8000
  initialDelaySeconds: 60
  periodSeconds: 10
  timeoutSeconds: 5
  failureThreshold: 3

readinessProbe:
  httpGet:
    path: /ready
    port: 8000
  initialDelaySeconds: 30
  periodSeconds: 5
  timeoutSeconds: 3
  failureThreshold: 3
