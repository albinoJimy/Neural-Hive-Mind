# Neo4j Local Values - Optimized for Minikube
# Override default values.yaml settings for local development

# Neo4j Configuration
neo4j:
  install: true
  name: neural-hive-neo4j-local
  namespace: neo4j-cluster
  edition: community
  acceptLicenseAgreement: "no"

# Cluster Configuration
cluster:
  mode: SINGLE  # Single node for local (instead of CORE cluster)
  coreServers: 1  # Single instance
  readReplicas: 0  # No replicas for local

# Image Configuration
image:
  repository: neo4j
  tag: 5.15.0-community
  pullPolicy: IfNotPresent

# Storage Configuration
storage:
  core:
    size: 10Gi  # Reduced from 50Gi
    storageClass: standard  # Minikube default

# Resource Configuration
resources:
  core:
    requests:
      cpu: 50m
      memory: 1Gi
    limits:
      cpu: 1
      memory: 2Gi

# Neo4j Configuration
config:
  heap:
    initial: 512M  # Reduced heap
    max: 1G  # Reduced max heap
  pagecache: 512M  # Reduced page cache
  dbms:
    security:
      auth_enabled: true

# Plugins Configuration
plugins:
  apoc: true
  graphDataScience: false  # Disable GDS for local to save resources
  neosemantics: true

# Security Configuration
security:
  auth:
    enabled: true
    password: "local_dev_password"
  ssl:
    bolt:
      enabled: false  # Disable SSL for local
    https:
      enabled: false

# Backup Configuration
backup:
  enabled: false

# Metrics Configuration
metrics:
  enabled: true
  serviceMonitor:
    enabled: false

# Environment
environment: local

# Network Policy
networkPolicy:
  enabled: false

# Istio
istio:
  injection: false
