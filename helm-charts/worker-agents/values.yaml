image:
  repository: 077878370245.dkr.ecr.us-east-1.amazonaws.com/neural-hive-mind/worker-agents
  tag: 1.0.7
  pullPolicy: IfNotPresent

replicaCount: 3

autoscaling:
  enabled: true
  minReplicas: 2
  maxReplicas: 10
  targetCPUUtilizationPercentage: 70
  targetMemoryUtilizationPercentage: 80

resources:
  requests:
    cpu: 500m
    memory: 512Mi
  limits:
    cpu: 2000m
    memory: 2Gi

config:
  serviceName: worker-agents
  namespace: neural-hive-execution
  cluster: production
  supportedTaskTypes:
    - BUILD
    - DEPLOY
    - TEST
    - VALIDATE
    - EXECUTE
  maxConcurrentTasks: 5

  kafka:
    bootstrapServers: kafka-bootstrap.kafka.svc.cluster.local:9092
    ticketsTopic: execution.tickets
    resultsTopic: execution.results
    consumerGroupId: worker-agents

  serviceRegistry:
    host: service-registry.neural-hive-registry.svc.cluster.local
    port: 50051
    heartbeatIntervalSeconds: 30

  executionTicketService:
    url: http://execution-ticket-service.neural-hive-orchestration.svc.cluster.local:8080

  temporal:
    enabled: false
    host: temporal-frontend.temporal.svc.cluster.local
    port: 7233
    namespace: neural-hive-mind
    taskQueue: worker-tasks

  observability:
    otelEndpoint: http://otel-collector:4317
    prometheusPort: 9090
    httpPort: 8080
    logLevel: INFO

securityContext:
  runAsNonRoot: true
  runAsUser: 1000
  fsGroup: 1000
  readOnlyRootFilesystem: true

istio:
  enabled: true
  mtls:
    mode: STRICT

serviceMonitor:
  enabled: true
  interval: 30s

pdb:
  enabled: true
  minAvailable: 1

networkPolicy:
  enabled: true

secrets:
  kafkaSaslUsername: ""
  kafkaSaslPassword: ""
