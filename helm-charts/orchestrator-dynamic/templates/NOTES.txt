üéâ Orchestrator Dynamic foi deployado com sucesso!

Release: {{ .Release.Name }}
Namespace: {{ .Release.Namespace }}
Chart Version: {{ .Chart.Version }}
App Version: {{ .Chart.AppVersion }}

=============================================================

‚úÖ Deployment Status:

Para verificar o status do deployment:

  kubectl get pods -n {{ .Release.Namespace }} -l app.kubernetes.io/name={{ include "orchestrator-dynamic.name" . }}

Para ver os logs:

  kubectl logs -n {{ .Release.Namespace }} -l app.kubernetes.io/name={{ include "orchestrator-dynamic.name" . }} -f

=============================================================

üîç Endpoints Dispon√≠veis:

{{- if .Values.service.type }}
Service Type: {{ .Values.service.type }}
{{- end }}

Para acessar o servi√ßo localmente (port-forward):

  kubectl port-forward -n {{ .Release.Namespace }} svc/{{ include "orchestrator-dynamic.fullname" . }} 8000:8000

Endpoints:
  - Health Check: http://localhost:8000/health
  - Readiness Check: http://localhost:8000/ready
  - M√©tricas Prometheus: http://localhost:9090/metrics
  - API REST: http://localhost:8000/api/v1/

=============================================================

üìä Monitoramento:

{{- if .Values.serviceMonitor.enabled }}
‚úÖ ServiceMonitor habilitado - M√©tricas sendo coletadas pelo Prometheus
{{- else }}
‚ö†Ô∏è  ServiceMonitor desabilitado - Habilite em values.yaml para monitoramento
{{- end }}

{{- if .Values.autoscaling.enabled }}
‚úÖ Autoscaling habilitado ({{ .Values.autoscaling.minReplicas }}-{{ .Values.autoscaling.maxReplicas }} r√©plicas)
{{- else }}
‚ÑπÔ∏è  Autoscaling desabilitado - R√©plicas fixas: {{ .Values.replicaCount }}
{{- end }}

=============================================================

üîß Configura√ß√£o:

Temporal Server: {{ .Values.config.temporal.host }}:{{ .Values.config.temporal.port }}
Kafka Bootstrap: {{ .Values.config.kafka.bootstrapServers }}
Environment: {{ .Values.config.environment }}

T√≥picos Kafka monitorados:
  - Input: {{ .Values.config.kafka.consensusTopic }}
  - Output: {{ .Values.config.kafka.ticketsTopic }}

=============================================================

‚è±Ô∏è SLA Timeout Configuration:

{{- $minTimeout := .Values.config.sla.ticketMinTimeoutMs | default 60000 }}
{{- $multiplier := .Values.config.sla.ticketTimeoutBufferMultiplier | default 3.0 }}

{{- if lt (int $minTimeout) 60000 }}
‚ö†Ô∏è  WARNING: config.sla.ticketMinTimeoutMs est√° configurado para {{ $minTimeout }}ms,
    que √© menor que o recomendado (60000ms). Isso pode causar falsos positivos de SLA violation.
    Recomenda√ß√£o: Configurar para pelo menos 60000ms (60 segundos).
{{- end }}

{{- if lt $multiplier 2.0 }}
‚ö†Ô∏è  WARNING: config.sla.ticketTimeoutBufferMultiplier est√° configurado para {{ $multiplier }},
    que √© menor que o recomendado (2.0). Isso pode causar timeouts prematuros.
    Recomenda√ß√£o: Configurar para pelo menos 3.0 para acomodar variabilidade de execu√ß√£o.
{{- end }}

  Minimum Timeout: {{ $minTimeout }}ms ({{ div (int $minTimeout) 1000 }}s)
  Buffer Multiplier: {{ $multiplier }}x
  F√≥rmula: timeout_ms = max(min_timeout_ms, estimated_duration_ms * buffer_multiplier)

Exemplos de c√°lculo:
  - Task 10s estimado: {{ max (int $minTimeout) (mul 10000 $multiplier) }}ms
  - Task 30s estimado: {{ max (int $minTimeout) (mul 30000 $multiplier) }}ms
  - Task 60s estimado: {{ max (int $minTimeout) (mul 60000 $multiplier) }}ms

Para validar configura√ß√£o:
  python services/orchestrator-dynamic/scripts/validate_sla_config.py

=============================================================

üìù Pr√≥ximos Passos:

1. Validar deployment:
   ./scripts/validation/validate-orchestrator-dynamic.sh

2. Verificar m√©tricas no Grafana:
   Dashboard: "Orchestration - Fluxo C"

3. Monitorar traces no Jaeger:
   Buscar por service: orchestrator-dynamic

4. Executar teste end-to-end:
   ./tests/phase2-orchestrator-test.sh

=============================================================

üìö Documenta√ß√£o:

README: services/orchestrator-dynamic/README.md
Status: PHASE2_IMPLEMENTATION_STATUS.md
Troubleshooting: Consulte o README do servi√ßo

=============================================================

Para desinstalar:

  helm uninstall {{ .Release.Name }} -n {{ .Release.Namespace }}

=============================================================
